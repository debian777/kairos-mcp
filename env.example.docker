# ---------------------------------------------------------------------------
# KAIROS MCP â€” QA / Production (Docker / containers)
# Copy to .env.qa or .env.prod (or use in Docker/Compose). REDIS_URL and
# QDRANT_URL are required (no defaults); set to your Redis/Qdrant host.
# ---------------------------------------------------------------------------

############################
# Runtime basics
############################
NODE_ENV=production
INSTANCE_ID=kairos-prod-1
DEFAULT_TENANT_ID=default

############################
# Transport and ports
############################
# TRANSPORT_TYPE=http          # Choices: stdio | http (default stdio)
# HTTP_ENABLED=true            # Choices: true | false
PORT=3000
METRICS_PORT=9090

############################
# Logging and diagnostics
############################
LOG_LEVEL=info                 # Choices: info | debug
LOG_FORMAT=json                # Choices: text | json
# STRICT_COVERAGE=false        # Choices: true | false (omit or false in prod)

############################
# Redis (required)
############################
REDIS_URL=redis://redis:6379
KAIROS_REDIS_PREFIX=kairos:prod:

############################
# Qdrant (required)
############################
QDRANT_URL=http://qdrant:6333
QDRANT_COLLECTION=kb_resources
# QDRANT_API_KEY=
# QDRANT_CA_CERT_PATH=
QDRANT_RESCORE=true            # Choices: true | false
# QDRANT_COLLECTION_CURRENT=
# QDRANT_SNAPSHOT_ON_START=false
# QDRANT_SNAPSHOT_DIR=./data/qdrant/snapshots
# QDRANT_CREATE_ALIAS=false    # Choices: true | false

############################
# Search behavior
############################
# KAIROS_SEARCH_OVERFETCH_FACTOR=4
# KAIROS_SEARCH_MAX_FETCH=200
KAIROS_ENABLE_GROUP_COLLAPSE=true   # Choices: true | false

############################
# Embedding and scoring
############################
# EMBEDDING_PROVIDER=auto      # Choices: auto | openai | tei
# BATCH_SIZE=100
# SCORE_THRESHOLD=0.3
# SIMILAR_MEMORY_THRESHOLD=0.9  # Set 1 to disable SIMILAR_MEMORY_FOUND

############################
# TEI (Text Embeddings Inference)
############################
# TEI_BASE_URL=http://tei:8080
# TEI_URL=
# TEI_MODEL=Alibaba-NLP/gte-large-en-v1.5
# TEI_API_KEY=
# TEI_DIMENSION=1024           # 0 = use detected

############################
# OpenAI embeddings
############################
# OPENAI_API_KEY=
# OPENAI_EMBEDDING_MODEL=text-embedding-3-small
# EMBEDDING_DIMENSION=1536

############################
# Other / ops
############################
TRUSTED_PROXY_CIDRS=10.0.0.0/8,172.16.0.0/12,192.168.0.0/16
# MCP_URL=http://localhost:3300/mcp
# KAIROS_API_URL=http://localhost:3000    # CLI only
# KAIROS_DOCS_PREFIX=kairos://doc
# STDIO_ENABLED=true           # Choices: true | false
