# ---------------------------------------------------------------------------
# KAIROS MCP â€” Local development (npm run)
# Copy to .env.dev when running locally with npm. REDIS_URL and QDRANT_URL
# are required (no defaults); set them explicitly below.
# ---------------------------------------------------------------------------

############################
# Runtime basics
############################
NODE_ENV=development
INSTANCE_ID=kairos-dev-1

############################
# Transport and ports
############################
# TRANSPORT_TYPE=stdio          # Choices: stdio | http (default stdio)
PORT=3300
METRICS_PORT=9090

############################
# Logging and diagnostics
############################
LOG_LEVEL=debug                 # Choices: info | debug
LOG_FORMAT=text                # Choices: text | json
# STRICT_COVERAGE=false         # Choices: true | false (Jest 100% coverage when true)

############################
# Redis (required)
############################
REDIS_URL=redis://127.0.0.1:6379
KAIROS_REDIS_PREFIX=kairos:dev:

############################
# Qdrant (required)
############################
QDRANT_URL=http://127.0.0.1:6333
QDRANT_COLLECTION=kb_resources
# QDRANT_API_KEY=
# QDRANT_CA_CERT_PATH=
QDRANT_RESCORE=true            # Choices: true | false
# QDRANT_COLLECTION_CURRENT=
# QDRANT_SNAPSHOT_ON_START=false
QDRANT_SNAPSHOT_DIR=./data/qdrant/snapshots   # Override default /snapshots when not in Docker
# QDRANT_CREATE_ALIAS=false     # Choices: true | false

############################
# Search behavior
############################
# KAIROS_SEARCH_OVERFETCH_FACTOR=4
# KAIROS_SEARCH_MAX_FETCH=200
KAIROS_ENABLE_GROUP_COLLAPSE=true   # Choices: true | false

############################
# Embedding and scoring
############################
# EMBEDDING_PROVIDER=auto      # Choices: auto | openai | tei
# BATCH_SIZE=100
# SCORE_THRESHOLD=0.3
# SIMILAR_MEMORY_THRESHOLD=0.9  # Set 1 to disable SIMILAR_MEMORY_FOUND

############################
# TEI (Text Embeddings Inference)
############################
# TEI_BASE_URL=http://127.0.0.1:8080
# TEI_URL=
# TEI_MODEL=Alibaba-NLP/gte-large-en-v1.5
# TEI_API_KEY=
# TEI_DIMENSION=1024            # 0 = use detected

############################
# OpenAI embeddings
############################
# OPENAI_API_KEY=
# OPENAI_EMBEDDING_MODEL=text-embedding-3-small
# EMBEDDING_DIMENSION=1536

############################
# Other / ops
############################
# TRUSTED_PROXY_CIDRS=10.0.0.0/8,192.168.0.0/16
# MCP_URL=http://localhost:3300/mcp
# KAIROS_API_URL=http://localhost:3000    # CLI only
# KAIROS_DOCS_PREFIX=kairos://doc
