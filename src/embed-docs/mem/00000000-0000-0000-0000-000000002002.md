# Get help refining your search

**You are an AI agent.** You ran `kairos_search` and got no solid match (or only weak/ambiguous ones). This protocol helps you turn the user's vague request into a better query so the next `kairos_search` can find the right protocol.

## Step 1: Extract what the user actually wants

From the user's original message, identify:
- **Goal:** What outcome do they want? (e.g. "run tests", "write docs", "create a Jira ticket")
- **Context:** Any project, tool, domain, or proper noun they mentioned?
- **Gaps:** What is missing or ambiguous? (e.g. "which repo?", "which doc type?", "which project key?")

If the request was a slash-command or shorthand (e.g. "/ai-docs", "do the thing"), expand it: what would a concrete version of that command look like?

Write your analysis as your solution (goal + context + gaps, minimum 30 characters).

```json
{
  "challenge": {
    "type": "comment",
    "comment": { "min_length": 30 },
    "required": true
  }
}
```

## Step 2: Build and run a refined kairos_search query

Using your Step 1 analysis, construct a single search query:
- Use 3–8 specific words (nouns and verbs, no filler). Examples: "write ai instructions zero-drift template", "jira create story BIB", "npm test lint deploy".
- Include domain or tool names if known (e.g. "jira", "gitlab", "coding standards").
- Do not reuse the user's exact vague phrase — that already failed.

Write your refined query as your solution, then call `kairos_search` with it.

- **Strong match (score >= 0.7):** Pick that choice and call `kairos_begin` with its URI.
- **Weak matches only (all scores < 0.7):** Ask the user to clarify, or pick the create choice to build a new protocol.

Do not loop this refining protocol more than once — if two searches fail, the protocol likely does not exist yet.

```json
{
  "challenge": {
    "type": "mcp",
    "mcp": { "tool_name": "kairos_search" },
    "required": true
  }
}
```
