# Create New KAIROS Protocol Chain

Guide an AI agent through creating a new executable protocol chain in KAIROS.
This protocol is offered as a fallback when kairos_search finds no matches.

## Step 1: Confirm Intent

Before creating a new protocol, confirm the user actually wants this.
They may have just misspelled a search query, or the protocol they want
may exist under a different name.

Ask the user: "No existing protocol matched your query. Would you like
to create a new one, or would you like to refine your search?"

PROOF OF WORK: user_input "Confirm you want to create a new protocol chain"

## Step 2: Gather Requirements

Collect the key details for the new protocol:

- **Title**: A clear, descriptive name for the protocol chain (H1 heading)
- **Steps**: What steps should the protocol have? (each becomes an H2 heading)
- **Challenges**: For each step, what proof of work is appropriate?
  - `shell` — run a command (e.g., `timeout 30s npm test`)
  - `comment` — provide a verification comment (e.g., `comment min_length=20`)
  - `user_input` — get human confirmation (e.g., `user_input "Approve deployment?"`)
  - `mcp` — call an MCP tool (e.g., `mcp tool_name`)

Summarize the gathered requirements as a structured list.

PROOF OF WORK: comment min_length=50

## Step 3: Draft Markdown

Using the requirements from step 2, draft the full markdown document
that will be passed to `kairos_mint`. Follow this structure:

```
# Protocol Title

## Step 1: Step Name
Step description and instructions.

PROOF OF WORK: <challenge_type> <details>

## Step 2: Step Name
...
```

Post the full drafted markdown in your verification comment.

PROOF OF WORK: comment min_length=100

## Step 4: User Review

Present the drafted protocol markdown to the user for review.
Ask them to approve, request changes, or cancel.

If they request changes, update the draft before proceeding.

PROOF OF WORK: user_input "Approve the protocol draft for minting"

## Step 5: Mint Protocol

Call `kairos_mint` with the approved markdown document. Use
`force_update: false` (default) unless the user explicitly asks to
overwrite an existing protocol.

Confirm the mint was successful and report the chain head URI back
to the user.

PROOF OF WORK: mcp kairos_mint
